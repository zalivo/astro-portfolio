---
import { Icon } from "astro-icon/components";

interface Project {
  title: string;
  description: string;
  url: string;
}

const projects: Project[] = [
  {
    title: "Accessible Art with Conversational Agents for Visually Impaired People",
    description: "Master thesis, University of Twente.",
    url: "https://purl.utwente.nl/essays/108556",
  },
  {
    title: "Streamers Clash Statistics",
    description: "Full FE + BE tournamen statistics dashboard.",
    url: "https://lavender-quince-a8c.notion.site/Streamersclash-statistics-dashboard-19093d5adfc38019b70ec1f7ca2e9e16?pvs=4",
  },
  {
    title: "Architect Portfolio",
    description: "Webflow design & development.",
    url: "https://kafka-portfolio.webflow.io/",
  },
  {
    title: "God Gamer Boss Checklist",
    description: "React, TypeScript, NextUI, Tailwind, Dexie.js.",
    url: "https://god-gamer-boss-checklist-kw4f.vercel.app/",
  },
  {
    title: "React Bingo",
    description: "React, Tailwind.",
    url: "https://bingo-xi-pink.vercel.app/",
  },
];
---
<section id="projects" class="py-8">
  <h2 class="text-xl sm:text-2xl font-medium mb-6 text-my-green">Projects</h2>
  <div class="border-t border-white/20">
    {projects.map((project) => (
      <a
        href={project.url}
        target="_blank"
        rel="noopener noreferrer"
        data-project
        class="group flex items-center justify-between py-4 border-b border-white/20"
      >
        <div>
          <h3 class="text-lg font-medium group-hover:text-my-green transition-colors">
            {project.title}
          </h3>
          <p class="text-base text-white mt-1 group-hover:text-my-green transition-colors">
            {project.description}
          </p>
        </div>
        <Icon
          name="lucide:move-right"
          size={24}
          class="shrink-0 ml-4 text-white group-hover:text-my-green transition-all duration-300 group-hover:-rotate-45"
        />
      </a>
    ))}
  </div>
</section>

<script>
  let ctx: AudioContext | null = null;

  function playPop() {
    if (!ctx) ctx = new AudioContext();

    const osc = ctx.createOscillator();
    const gain = ctx.createGain();

    osc.type = "sine";
    osc.frequency.value = 600;

    gain.gain.setValueAtTime(0.06, ctx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.03);

    osc.connect(gain);
    gain.connect(ctx.destination);

    osc.start(ctx.currentTime);
    osc.stop(ctx.currentTime + 0.03);
  }

  document.querySelectorAll("a[data-project]").forEach((el) => {
    el.addEventListener("mouseenter", playPop);
  });
</script>
